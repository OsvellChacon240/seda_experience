{% load static %}
{% load i18n %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}

<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no" name="viewport">
  <title>{{page_title}}</title>

  <!-- General CSS Files -->
  <link rel="stylesheet" href="{% static 'modules/bootstrap/css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'modules/fontawesome/css/all.min.css' %}">
  <link rel="shortcut icon" href="{% static 'img/LogoP.png' %}" type="image/x-icon">

  <!-- CSS Libraries -->
  <link rel="stylesheet" href="{% static 'modules/bootstrap-social/bootstrap-social.css' %}">

  <!-- Template CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link rel="stylesheet" href="{% static 'css/components.css' %}">

  <!-- SweetAlert2 CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Start GA -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-94034622-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-94034622-3');
</script>
<!-- /END GA --></head>

<body data-login-error="{{ login_error|yesno:'True,False' }}" data-inactive-error="{{ inactive_error|yesno:'True,False' }}">
  <div id="app">
    <section class="section">
      <div class="container mt-5">
        <div class="row">
          <div class="col-12 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4">
            <div class="login-brand">
              <img src="{% static 'img/LogoG.png' %}" alt="logo" width="100" class="shadow-light rounded-circle">
            </div>

            <div class="card card-primary">
              <div class="card-header"><h4>{% trans "Register Student" %}</h4></div>

              <div class="card-body">
                <form method="POST" action="#" enctype="multipart/form-data" class="needs-validation" novalidate="">
                  {% csrf_token %}
                  <div class="form-group">
                    {{ form | crispy }}
                    <div class="form-group text-center">
                      <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal" class="btn btn-link">{% trans "Read Terms and Conditions" %}</a>
                    </div>
                  </div>
                  <div class="form-group">
                    <button type="submit" class="btn btn-warning btn-lg btn-block" tabindex="4">
                      {% trans "Create Account" %}
                    </button>
                  </div>
                </form>

              </div>
            </div>
            <div class="simple-footer">
              Copyright &copy; <span id="year"></span> <div class="bullet"></div> {% trans "All rights reserved" %}
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

    <!-- Modal de Términos y Condiciones -->
<!-- Modal de Términos y Condiciones -->
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content shadow-lg rounded-4">
      <div class="modal-header bg-warning text-white">
        <h5 class="modal-title fw-bold" id="termsModalLabel">{% trans "Terms and Conditions" %}</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="{% trans 'Close' %}"></button>
      </div>
      <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
        <p class="mb-3">{% trans "At SEDA we are committed to the security of your personal information. We understand the importance of privacy and strive to protect the information you share with us. We encourage you to read this policy carefully to understand how we handle your information." %}</p>

        <h6 class="mt-4 fw-bold">{% trans "1. Information We Collect" %}</h6>
        <ul>
          <li>{% trans "Personally Identifiable Information (PII): name, email, phone number, address, etc." %}</li>
          <li>{% trans "Usage Information: pages visited, time spent, IP address, location, etc." %}</li>
          <li>{% trans "Cookies and similar technologies: see the 'Use of Cookies' section below." %}</li>
        </ul>

        <h6 class="mt-4 fw-bold">{% trans "2. How We Use Your Information" %}</h6>
        <ul>
          <li>{% trans "Improve our website and services." %}</li>
          <li>{% trans "Communicate with you." %}</li>
          <li>{% trans "Personalize the user experience." %}</li>
          <li>{% trans "Conduct internal analysis and research." %}</li>
          <li>{% trans "Ensure security and prevent fraud." %}</li>
        </ul>

        <h6 class="mt-4 fw-bold">{% trans "3. Use of Cookies" %}</h6>
        <p>{% trans "We use cookies to improve your experience. These include:" %}</p>
        <ul>
          <li>{% trans "Essential cookies: required for the website to function." %}</li>
          <li>{% trans "Performance and analytics cookies: help us understand site usage." %}</li>
          <li>{% trans "Functionality cookies: remember your preferences." %}</li>
          <li>{% trans "Advertising and tracking cookies: used to show personalized ads." %}</li>
        </ul>
        <p>{% trans "You can manage cookies via your browser or third-party tools." %}</p>

        <h6 class="mt-4 fw-bold">{% trans "4. Sharing Your Information" %}</h6>
        <ul>
          <li>{% trans "With service providers under strict confidentiality." %}</li>
          <li>{% trans "To comply with the law or legal processes." %}</li>
          <li>{% trans "To protect rights and security." %}</li>
        </ul>

        <h6 class="mt-4 fw-bold">{% trans "5. Security of Your Data" %}</h6>
        <p>{% trans "We implement reasonable measures to protect your data, but cannot guarantee absolute security." %}</p>

        <h6 class="mt-4 fw-bold">{% trans "6. Your Rights" %}</h6>
        <ul>
          <li>{% trans "Right of access" %}</li>
          <li>{% trans "Right of rectification" %}</li>
          <li>{% trans "Right to erasure (right to be forgotten)" %}</li>
          <li>{% trans "Right to restrict processing" %}</li>
          <li>{% trans "Right to object" %}</li>
          <li>{% trans "Right to data portability" %}</li>
        </ul>
        <p>{% trans "To exercise these rights, contact us at" %} <a href="mailto:info@sedaexperience.com">info@sedaexperience.com</a></p>

        <h6 class="mt-4 fw-bold">{% trans "7. Links to Other Websites" %}</h6>
        <p>{% trans "We are not responsible for the privacy practices of other websites linked from ours." %}</p>

        <h6 class="mt-4 fw-bold">{% trans "8. Changes to this Privacy Policy" %}</h6>
        <p>{% trans "We may update this policy at any time. Changes take effect immediately upon publication." %}</p>

        <h6 class="mt-4 fw-bold">{% trans "9. Contact" %}</h6>
        <p>{% trans "If you have questions or concerns, please contact us at" %} <a href="mailto:info@sedaexperience.com">info@sedaexperience.com</a></p>

        <div class="alert alert-info mt-4" role="alert">
          {% trans "By using our Website, you agree to the terms of this Privacy and Cookie Policy." %}
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">{% trans "Close" %}</button>
        <button type="button" class="btn btn-warning" id="acceptTerms">{% trans "I Accept the Terms" %}</button>
      </div>
    </div>
  </div>
</div>

  
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const acceptTermsButton = document.getElementById("acceptTerms");
    const registerButton = document.querySelector("button[type='submit']");

    acceptTermsButton.addEventListener("click", function () {
      // Habilitar el botón de registro
      registerButton.disabled = false;

      // Cerrar el modal
      const termsModal = bootstrap.Modal.getInstance(document.getElementById("termsModal"));
      termsModal.hide();
    });
  });
</script>
  

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      document.getElementById("year").textContent = new Date().getFullYear();
    });
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
        // Get the values of the data-* attributes from the body
        const body = document.body;
        const loginError = body.getAttribute("data-login-error") === "True";
        const inactiveError = body.getAttribute("data-inactive-error") === "True";

        // Show error messages with SweetAlert2
        if (loginError) {
            Swal.fire({
                icon: 'error',
                title: '{% trans "Login Error" %}',
                text: '{% trans "Incorrect email and/or password" %}.',
                confirmButtonText: '{% trans "Accept" %}',
                background: '#fff',
                color: '#444',
                customClass: {
                    confirmButton: 'btn-primary'
                }
            });
        }

        if (inactiveError) {
            Swal.fire({
                icon: 'warning',
                title: '{% trans "Account Suspended" %}',
                text: '{% trans "Your profile is suspended. Contact the administrator" %}.',
                confirmButtonText: '{% trans "Accept" %}',
                background: '#fff',
                color: '#444',
                customClass: {
                    confirmButton: 'btn-primary'
                }
            });
        }
    });
  </script>
  <!-- SweetAlert2 JS -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- General JS Scripts -->
  <script src="{% static 'modules/jquery.min.js' %}"></script>
  <script src="{% static 'modules/popper.js' %}"></script>
  <script src="{% static 'modules/tooltip.js' %}"></script>
  <script src="{% static 'modules/bootstrap/js/bootstrap.min.js' %}"></script>
  <script src="{% static 'modules/nicescroll/jquery.nicescroll.min.js' %}"></script>
  <script src="{% static 'modules/moment.min.js' %}"></script>
  <script src="{% static 'js/stisla.js' %}"></script>
  
  <!-- JS Libraries -->

  <!-- Page Specific JS File -->

  <script>
    // Inactivity time in milliseconds (e.g., 10 minutes = 600000 ms)
    const INACTIVITY_LIMIT = 600000; // 10 minutes
  
    let inactivityTimer;
  
    // Function to redirect user to logout route
    function logoutDueToInactivity() {
      window.location.href = "{% url 'logout' %}";
    }
  
    // Reset inactivity timer
    function resetInactivityTimer() {
      clearTimeout(inactivityTimer);
      inactivityTimer = setTimeout(logoutDueToInactivity, INACTIVITY_LIMIT);
    }
  
    // Listen for user activity events
    document.addEventListener("mousemove", resetInactivityTimer);
    document.addEventListener("keydown", resetInactivityTimer);
    document.addEventListener("click", resetInactivityTimer);
    document.addEventListener("scroll", resetInactivityTimer);
  
    // Start inactivity timer when the page loads
    resetInactivityTimer();
  </script>
  
  <!-- Template JS File -->
  <script src="{% static 'js/scripts.js' %}"></script>
  <script src="{% static 'js/custom.js' %}"></script>
</body>
</html>
